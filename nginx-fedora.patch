diff -aurN nginx-1.13.7-1.el7_4.ngx.src.orig/nginx.spec nginx-1.13.7-1.el7_4.ngx.src/nginx.spec
--- nginx.spec.orig	2017-11-22 15:10:50.346188507 +0900
+++ nginx.spec	2017-11-22 15:15:16.919178678 +0900
@@ -36,6 +36,23 @@
 %endif
 %endif
 
+%if 0%{?fedora} >= 25
+BuildRequires: redhat-lsb-core
+%define _group System Environment/Daemons
+%define epoch 1
+Epoch: %{epoch}
+Requires(pre): shadow-utils
+Requires: systemd
+BuildRequires: systemd
+%if 0%{?fedora} >= 26
+Requires: compat-openssl10 >= 1.0.2
+BuildRequires: compat-openssl10-devel >= 1.0.2
+%else
+Requires: openssl
+BuildRequires: openssl-devel
+%endif
+%endif
+
 %if 0%{?suse_version} == 1315
 %define _group Productivity/Networking/Web/Servers
 %define nginx_loggroup trusted
@@ -45,6 +62,12 @@
 BuildRequires: systemd
 %endif
 
+%if 0%{?fedora} >= 18
+# removes -Werror in upstream build scripts.  -Werror conflicts with
+# -D_FORTIFY_SOURCE=2 causing warnings to turn into errors.
+Patch0: nginx-auto-cc-gcc.patch
+%endif
+
 # end of distribution specific definitions
 
 %define main_version 1.13.7
@@ -103,7 +126,14 @@
 sed -e 's|%%DEFAULTSTART%%||g' -e 's|%%DEFAULTSTOP%%|0 1 2 3 4 5 6|g' \
     -e 's|%%PROVIDES%%|nginx-debug|g' < %{SOURCE2} > nginx-debug.init
 
+%if 0%{?fedora} >= 18
+%patch0 -p0
+%endif
+
 %build
+%if 0%{?fedora} >= 26
+export CFLAGS="-Wno-error"
+%endif
 ./configure %{BASE_CONFIGURE_ARGS} \
     --with-cc-opt="%{WITH_CC_OPT}" \
     --with-ld-opt="%{WITH_LD_OPT}" \
